<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FreshEgg | National Egg Intelligence Supply Chain</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        .hidden { display: none; }
        .hero-gradient { background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); }
        .active-view { display: block; animation: fadeIn 0.8s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        iframe { width: 100%; height: 700px; border: none; border-radius: 2rem; background: #fff; }
    </style>
</head>
<body class="bg-gray-50 font-sans">

    <div id="view-public" class="active-view">
        <nav class="bg-white/90 backdrop-blur-md sticky top-0 z-[100] border-b border-gray-100">
            <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
                <div class="flex items-center gap-2">
                    <span class="text-2xl font-black italic uppercase tracking-tighter">Fresh<span class="text-orange-600">Egg</span></span>
                </div>
                <div class="flex gap-4">
                    <button onclick="toggleModal('daftar')" class="text-[10px] font-black uppercase tracking-widest text-gray-500">Daftar Mitra</button>
                    <button onclick="toggleModal('login')" class="bg-black text-white px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-[0.2em]">Portal Internal</button>
                </div>
            </div>
        </nav>

        <header class="hero-gradient text-white py-24 px-6 text-center relative overflow-hidden">
            <div class="max-w-5xl mx-auto relative z-10">
                <span class="bg-orange-600 text-black text-[10px] font-black px-4 py-1 rounded-full mb-6 inline-block uppercase italic">Partner Ketahanan Pangan Nasional</span>
                <h1 class="text-5xl md:text-7xl font-black mb-6 uppercase italic leading-none">Agregator & Offtaker <br><span class="text-orange-500 text-4xl md:text-6xl">Telur Ayam Negeri (Leghorn)</span></h1>
                <p class="text-gray-400 text-lg mb-12 max-w-2xl mx-auto italic">Integrasi Supply Chain Cerdas: Konsolidasi Solo Raya untuk Indonesia. Tertib Regulasi UU PDP & BSSN.</p>
                <div class="flex justify-center gap-12 opacity-50 grayscale">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/b/be/Logo_NKV.png" class="h-12" alt="NKV">
                    <img src="https://img.icons8.com/color/96/government.png" class="h-12" alt="OSS/LPSE">
                </div>
            </div>
        </header>

        <section class="max-w-4xl mx-auto px-6 -mt-10 relative z-20">
            <div class="bg-white p-8 rounded-[3rem] shadow-2xl border border-red-100 flex items-center gap-6">
                <div class="w-20 h-20 bg-red-500 rounded-full flex items-center justify-center text-white text-3xl animate-pulse"><i class="fas fa-heart"></i></div>
                <div>
                    <h4 class="text-red-600 font-black uppercase text-[10px] tracking-widest italic">Pilot Project CSR: Wonogiri</h4>
                    <p class="text-2xl font-black italic">Perangi Stunting Indonesia 2026</p>
                    <p class="text-xs font-bold text-gray-400 uppercase mt-1">Status: Distribusi Protein Hewani Aktif</p>
                </div>
            </div>
        </section>

        <section class="max-w-7xl mx-auto px-6 py-20">
            <h2 class="text-center text-2xl font-black uppercase italic mb-10 underline decoration-orange-500 underline-offset-8">Monitoring Suplai Nasional (Live)</h2>
            <div class="bg-white p-4 rounded-[2.5rem] shadow-xl border border-gray-100">
                <iframe src="https://lookerstudio.google.com/embed/reporting/81cce9a8-833d-47e3-9225-fe27ca23b445/page/EoDlF"></iframe>
            </div>
        </section>

        <footer class="bg-[#1a1a1a] text-white py-16 px-6">
            <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start gap-10">
                <div>
                    <span class="text-2xl font-black italic">Fresh<span class="text-orange-500">Egg</span></span>
                    <p class="text-[10px] text-gray-500 uppercase font-bold tracking-[0.3em] mt-4">One Stop Service Agregator</p>
                </div>
                <div class="text-[10px] text-gray-400 space-y-2 max-w-sm">
                    <p class="font-bold text-white uppercase italic">Kepatuhan Hukum & Keamanan:</p>
                    <p>Patuh UU No. 27/2022 (PDP) & UU No. 1/2024 (ITE). Pengamanan Standar BSSN & CIA Triad.</p>
                    <p>Â© 2026 FreshEgg Indonesia. Hak Cipta Dilindungi Undang-Undang. PT & OSS Terdaftar.</p>
                </div>
            </div>
        </footer>
    </div>

    <div id="view-management" class="hidden min-h-screen bg-gray-100 p-6">
        <div class="max-w-7xl mx-auto">
            <header class="bg-black text-white p-8 rounded-[3rem] mb-8 flex justify-between items-center shadow-2xl">
                <div>
                    <h2 class="text-2xl font-black italic uppercase italic tracking-tighter">Live Fresh<span class="text-orange-500">Egg</span> Support</h2>
                    <p class="text-[9px] font-bold text-gray-500 uppercase tracking-[0.3em]">Management Access Only | Coretax Integrated</p>
                </div>
                <button onclick="logout()" class="text-[10px] font-bold text-red-500 border border-red-500 px-4 py-2 rounded-xl">SECURE LOGOUT</button>
            </header>
            
            <div class="flex gap-4 mb-8 overflow-x-auto pb-2">
                <button onclick="switchIframe('farm')" class="bg-white px-8 py-4 rounded-2xl font-black uppercase text-[10px] shadow-sm hover:bg-orange-500">1. Dashboard Farm</button>
                <button onclick="switchIframe('buyer')" class="bg-white px-8 py-4 rounded-2xl font-black uppercase text-[10px] shadow-sm hover:bg-orange-500">2. Dashboard Buyer</button>
                <button onclick="switchIframe('neraca')" class="bg-white px-8 py-4 rounded-2xl font-black uppercase text-[10px] shadow-sm hover:bg-orange-500">3. Dashboard Neraca</button>
            </div>

            <div id="frame-container">
                <div id="db-farm" class="db-v"><iframe src="https://lookerstudio.google.com/embed/reporting/aaaa04e2-6fac-431b-8bad-68805577754f/page/LmDlF"></iframe></div>
                <div id="db-buyer" class="db-v hidden"><iframe src="https://lookerstudio.google.com/embed/reporting/c3198c7f-57fe-4fa5-977f-c8bc72b28215/page/pnDlF"></iframe></div>
                <div id="db-neraca" class="db-v hidden"><iframe src="https://lookerstudio.google.com/embed/reporting/81cce9a8-833d-47e3-9225-fe27ca23b445/page/EoDlF"></iframe></div>
            </div>
        </div>
    </div>

    <div id="modal-login" class="fixed inset-0 bg-black/95 z-[200] hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-[3rem] max-w-sm w-full p-10 text-center shadow-2xl border-t-8 border-orange-500">
            <h2 class="text-2xl font-black italic uppercase mb-8">Internal Access</h2>
            <input type="password" id="userKey" placeholder="KODE AKSES" class="w-full p-5 bg-gray-100 rounded-2xl text-center text-xl font-black mb-6 border-none outline-none focus:ring-4 focus:ring-orange-100">
            <div class="cf-turnstile flex justify-center mb-6" data-sitekey="0x4AAAAAACMb-1Fb8DGvDYm3"></div>
            <button onclick="handleLogin()" class="w-full bg-black text-white py-5 rounded-2xl font-black uppercase text-xs tracking-widest shadow-lg">Verifikasi</button>
            <button onclick="toggleModal('login')" class="mt-4 text-[10px] font-bold text-gray-300 uppercase">Tutup</button>
        </div>
    </div>

    <div id="modal-daftar" class="fixed inset-0 bg-black/90 z-[200] hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-[3rem] max-w-lg w-full p-10 shadow-2xl relative">
            <h2 class="text-2xl font-black mb-2 italic">Daftar Mitra FreshEgg</h2>
            <p class="text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-8 italic">One Stop Service Registration</p>
            <form onsubmit="handleDaftar(event)" class="space-y-4">
                <input type="text" name="nama" placeholder="Nama Lengkap / Instansi" required class="w-full p-4 bg-gray-50 rounded-xl border-none outline-none focus:ring-2 focus:ring-orange-500">
                <input type="tel" name="wa" placeholder="Nomor WhatsApp (62...)" required class="w-full p-4 bg-gray-50 rounded-xl border-none outline-none focus:ring-2 focus:ring-orange-500">
                <select name="klasifikasi" required class="w-full p-4 bg-gray-50 rounded-xl border-none outline-none font-bold">
                    <option value="">-- PILIH KLASIFIKASI --</option>
                    <option value="FARM">A. FARM (PETERNAK)</option>
                    <option value="BUYER">B. BUYER (INDUSTRI/DISTRIBUTOR)</option>
                    <option value="GUEST">C. GUEST (INVESTOR)</option>
                    <option value="CARGO">D. CARGO (LOGISTIK)</option>
                    <option value="MANAGEMENT">E. MANAGEMENT (INTERNAL)</option>
                </select>
                <div class="flex items-center gap-3 p-4 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200">
                    <input type="checkbox" required class="w-5 h-5 accent-orange-500">
                    <p class="text-[9px] font-medium leading-tight text-gray-500 uppercase">Saya setuju dengan Pakta Integritas, UU PDP, & Mendukung Ketahanan Pangan Nasional.</p>
                </div>
                <button type="submit" class="w-full bg-orange-600 text-white py-5 rounded-2xl font-black uppercase text-xs shadow-lg">Submit & Get Access Code</button>
            </form>
        </div>
    </div>

    <script>
        // --- LOGIC: SECURITY & NAVIGATION ---
        function toggleModal(id) { document.getElementById('modal-' + id).classList.toggle('hidden'); }

        function handleLogin() {
            const key = document.getElementById('userKey').value.toUpperCase();
            if(key === "FRESHEGG2026") {
                document.getElementById('view-public').classList.add('hidden');
                document.getElementById('view-management').classList.remove('hidden');
                toggleModal('login');
                initAutoLogout();
            } else {
                alert("Akses Ditolak. Pastikan kode benar.");
            }
        }

        function handleDaftar(e) {
            e.preventDefault();
            const form = e.target;
            const nama = form.nama.value;
            const klasifikasi = form.klasifikasi.value;
            const waAdmin = "628121515633";
            const text = `Halo Admin FreshEgg, saya ${nama} daftar sebagai ${klasifikasi}. Saya setuju dengan ToS & Mendukung Ketahanan Pangan Nasional.`;
            window.open(`https://wa.me/${waAdmin}?text=${encodeURIComponent(text)}`, '_blank');
            alert(`Terima kasih ${nama}. Kode Akses [ ${klasifikasi}2026 ] dikirim ke WA Anda.`);
            toggleModal('daftar');
        }

        function switchIframe(type) {
            document.querySelectorAll('.db-v').forEach(el => el.classList.add('hidden'));
            document.getElementById('db-' + type).classList.remove('hidden');
        }

        // --- LOGIC: AUTO LOGOUT (SECURE BSSN) ---
        let timer;
        function initAutoLogout() {
            const timeout = 15 * 60 * 1000; // 15 Menit
            clearTimeout(timer);
            timer = setTimeout(() => {
                alert("Sesi Berakhir Demi Keamanan Data (BSSN Standard)");
                window.location.reload();
            }, timeout);
        }
        window.onmousemove = initAutoLogout;
        window.onclick = initAutoLogout;

        function logout() { window.location.reload(); }
    </script>
</body>
</html>
