<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Monitoring Nasional | FreshEgg 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .sidebar-item:hover { background: #2d3748; border-left: 4px solid #F5A623; }
        .bg-dark-panel { background: #1a202c; }
    </style>
</head>
<body class="bg-gray-100 font-sans">

    <div class="flex h-screen overflow-hidden">
        <div class="w-64 bg-gray-900 text-white hidden md:block">
            <div class="p-6 text-center border-b border-gray-800">
                <h1 class="text-2xl font-bold text-orange-400 tracking-widest">FRESHEGG</h1>
                <p class="text-[10px] text-gray-500 uppercase">Admin Command Center</p>
            </div>
            <nav class="mt-6">
                <a href="#" class="flex items-center p-4 sidebar-item bg-gray-800 border-l-4 border-orange-500">
                    <i class="fas fa-chart-pie mr-3"></i> Ringkasan Nasional
                </a>
                <a href="#" class="flex items-center p-4 sidebar-item text-gray-400">
                    <i class="fas fa-truck mr-3"></i> Pantauan Logistik
                </a>
                <a href="#" class="flex items-center p-4 sidebar-item text-gray-400">
                    <i class="fas fa-warehouse mr-3"></i> Stok Mitra Farm
                </a>
                <a href="index.html" class="flex items-center p-4 sidebar-item text-red-400 mt-20">
                    <i class="fas fa-sign-out-alt mr-3"></i> Keluar Ke Publik
                </a>
            </nav>
        </div>

        <div class="flex-1 flex flex-col overflow-y-auto">
            <header class="bg-white shadow-sm p-4 flex justify-between items-center">
                <h2 class="font-bold text-gray-700">Dashboard Monitoring Nasional <span class="text-orange-500 text-xs px-2 bg-orange-50 rounded-full ml-2 uppercase">Trial Mode</span></h2>
                <div class="flex items-center gap-4">
                    <span id="current-time" class="text-sm font-mono text-gray-500"></span>
                    <div class="w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center text-white text-xs font-bold">ADM</div>
                </div>
            </header>

            <main class="p-6 space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <div class="bg-white p-6 rounded-2xl shadow-sm border-b-4 border-orange-500">
                        <p class="text-gray-500 text-xs font-bold uppercase">Total Order Hari Ini</p>
                        <h3 id="live-order" class="text-2xl font-black mt-2">1,240</h3>
                        <p class="text-green-500 text-xs mt-2"><i class="fas fa-arrow-up"></i> +12% dari kemarin</p>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-sm border-b-4 border-blue-500">
                        <p class="text-gray-500 text-xs font-bold uppercase">Armada Aktif</p>
                        <h3 id="live-truck" class="text-2xl font-black mt-2">48</h3>
                        <p class="text-blue-500 text-xs mt-2">Cargo Nasional Terhubung</p>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-sm border-b-4 border-green-500">
                        <p class="text-gray-500 text-xs font-bold uppercase">Neraca Stok (Butir)</p>
                        <h3 id="live-stock" class="text-2xl font-black mt-2">845,000</h3>
                        <p class="text-gray-400 text-xs mt-2">Stok Aman (Level 1)</p>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-sm border-b-4 border-red-500">
                        <p class="text-gray-500 text-xs font-bold uppercase">Harga Rata-rata (Kg)</p>
                        <h3 id="live-price" class="text-2xl font-black mt-2">Rp 26.450</h3>
                        <p class="text-red-500 text-xs mt-2"><i class="fas fa-arrow-up"></i> +Rp 200 (Inflasi)</p>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-white p-6 rounded-2xl shadow-sm">
                        <h4 class="font-bold mb-4">Tren Distribusi Telur (Mingguan)</h4>
                        <canvas id="distribusiChart" height="150"></canvas>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-sm">
                        <h4 class="font-bold mb-4">Aktivitas Transaksi Live</h4>
                        <div class="space-y-4" id="log-transaksi">
                            </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script>
        // Set Waktu Real-time
        function updateTime() {
            const now = new Date();
            document.getElementById('current-time').innerText = now.toLocaleString('id-ID');
        }
        setInterval(updateTime, 1000);

        // Grafik Distribusi
        const ctx = document.getElementById('distribusiChart').getContext('2d');
        new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Sen', 'Sel', 'Rab', 'Kam', 'Jum', 'Sab', 'Min'],
                datasets: [{
                    label: 'Butir Terdistribusi',
                    data: [12000, 19000, 15000, 25000, 22000, 30000, 28000],
                    borderColor: '#F5A623',
                    backgroundColor: 'rgba(245, 166, 35, 0.1)',
                    fill: true,
                    tension: 0.4
                }]
            }
        });

        // Simulasi Log Transaksi Live
        const kota = ['Jakarta', 'Surabaya', 'Medan', 'Bandung', 'Makassar', 'Semarang'];
        const logContainer = document.getElementById('log-transaksi');

        function addLog() {
            const randomKota = kota[Math.floor(Math.random() * kota.length)];
            const randomQty = Math.floor(Math.random() * 500) + 50;
            const logItem = document.createElement('div');
            logItem.className = "flex justify-between items-center p-3 bg-gray-50 rounded-lg border-l-4 border-orange-400 animate-pulse";
            logItem.innerHTML = `
                <div>
                    <p class="text-sm font-bold text-gray-700">Order Baru: ${randomKota}</p>
                    <p class="text-[10px] text-gray-500 font-mono">ID-TRX-${Math.floor(Math.random()*9000)}</p>
                </div>
                <div class="text-right">
                    <p class="text-sm font-black text-orange-600">${randomQty} Kg</p>
                    <p class="text-[10px] text-green-500 uppercase">Confirmed</p>
                </div>
            `;
            logContainer.prepend(logItem);
            if (logContainer.children.length > 5) logContainer.lastChild.remove();
        }

        setInterval(addLog, 3000); // Tambah log setiap 3 detik
        updateTime();
    </script>
</body>
</html>
