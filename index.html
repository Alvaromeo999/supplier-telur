<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>FreshEgg | Pioneer Agregator Intelligence Supply Chain Telur</title>
    <meta name="description" content="Jembatan Teknologi Farm & Buyer Nasional. Konsolidasi 5 Ton/Hari Solo Raya menuju Ketahanan Pangan Indonesia.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@700;800&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #FDFCFB; color: #2D2D2D; scroll-behavior: smooth; }
        .bg-freshegg { background: linear-gradient(135deg, #E67E22 0%, #D35400 100%); }
        .glass-nav { background: rgba(253, 252, 251, 0.9); backdrop-filter: blur(15px); }
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body class="antialiased">

    <nav class="fixed w-full z-[60] glass-nav border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-freshegg rounded-xl flex items-center justify-center text-white shadow-lg">
                    <i class="fas fa-microchip"></i>
                </div>
                <div class="leading-none text-left">
                    <span class="text-xl font-black tracking-tighter text-[#4A2F1B] block uppercase italic">FRESHEGG</span>
                    <span class="text-[7px] font-extrabold text-[#D35400] tracking-[0.2em] uppercase leading-none">Intelligence Supply Chain 2026</span>
                </div>
            </div>
            <div class="hidden lg:flex gap-6 text-[9px] font-black text-[#A35D36] tracking-widest uppercase">
                <a href="#home" onclick="switchTab('home')" class="hover:text-orange-600 transition">Beranda</a>
                <a href="#monitor" onclick="switchTab('home')" class="hover:text-orange-600 transition">Monitor Publik</a>
                <button onclick="bukaGate()" class="text-orange-600 underline underline-offset-4">Internal System</button>
            </div>
            <button onclick="bukaGate()" class="bg-[#2D2D2D] text-white px-5 py-2.5 rounded-xl font-black text-[9px] uppercase shadow-lg">Login</button>
        </div>
    </nav>

    <main id="tab-home" class="tab-content active pt-32">
        <section class="max-w-6xl mx-auto text-center px-6 mb-16">
            <span class="bg-orange-100 text-orange-600 px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-[0.2em] mb-6 inline-block italic">Pilot Project: Solo Raya</span>
            <h1 class="text-5xl md:text-8xl font-black text-[#4A2F1B] mb-8 leading-[0.9] tracking-tighter uppercase">
                Jembatan <span class="text-[#D35400] italic">Tehnologi</span> <br>Farm & Buyer
            </h1>
            <p class="text-[#6D5D50] text-lg md:text-xl mb-12 max-w-3xl mx-auto font-medium italic">
                "Mengintegrasikan Farm Solo Raya dengan Industri melalui sistem agregasi 5 Ton per hari."
            </p>
        </section>

        <section id="monitor" class="max-w-7xl mx-auto px-6 mb-20">
            <div class="grid lg:grid-cols-3 gap-8">
                <div class="lg:col-span-1 bg-white p-8 rounded-[2.5rem] border-2 border-gray-100 shadow-xl">
                    <h3 class="text-sm font-black uppercase mb-6 flex items-center gap-2"><i class="fas fa-calculator text-orange-500"></i> Update Stok</h3>
                    <div class="space-y-5">
                        <input type="text" id="inputNama" placeholder="Nama Farm / PIC" class="w-full p-4 bg-gray-50 border-2 border-gray-100 rounded-2xl font-bold focus:border-orange-500 outline-none">
                        <input type="number" id="inputStok" oninput="hitungVisual()" placeholder="Stok (Kg)" class="w-full p-4 bg-gray-50 border-2 border-gray-100 rounded-2xl text-2xl font-black focus:border-orange-500 outline-none">
                        <button onclick="submitData('Stok')" class="w-full bg-[#D35400] text-white py-5 rounded-2xl font-black uppercase text-xs shadow-lg">Sinkronisasi Database</button>
                    </div>
                </div>
                <div class="lg:col-span-2 bg-[#4A2F1B] p-10 rounded-[2.5rem] text-white shadow-2xl relative overflow-hidden">
                    <div class="relative z-10">
                        <h4 class="text-orange-400 font-black uppercase text-[10px] tracking-[0.3em]">Efisiensi Armada Harian (Target 5T)</h4>
                        <h2 class="text-6xl font-black mt-2 italic" id="displayPersen">0%</h2>
                        <div class="w-full bg-white/10 h-4 rounded-full my-6 overflow-hidden">
                            <div id="progressBar" class="h-full bg-orange-500 w-0 transition-all duration-1000"></div>
                        </div>
                        <p class="text-xl font-black text-white" id="displaySisaText">Butuh 5,000 Kg Lagi</p>
                    </div>
                    <i class="fas fa-truck-moving absolute -bottom-10 -right-10 text-[15rem] text-white/5 rotate-[-15deg]"></i>
                </div>
            </div>
        </section>

        <section class="max-w-7xl mx-auto px-6 pb-20">
            <div class="bg-white rounded-[3rem] p-4 border-2 border-gray-100 shadow-sm">
                <div class="aspect-video w-full rounded-2xl overflow-hidden">
                    <iframe src="https://lookerstudio.google.com/embed/reporting/81cce9a8-833d-47e3-9225-fe27ca23b445/page/EoDlF" class="w-full h-full border-none"></iframe>
                </div>
            </div>
        </section>

        <section class="max-w-7xl mx-auto px-6 pb-24">
            <div class="grid md:grid-cols-3 gap-4">
                <button onclick="modalMitra('Farm')" class="p-8 bg-white border-2 border-gray-100 rounded-[2rem] hover:border-orange-500 transition font-black uppercase text-xs italic">Pendaftaran Farm</button>
                <button onclick="modalMitra('Buyer')" class="p-8 bg-white border-2 border-gray-100 rounded-[2rem] hover:border-blue-500 transition font-black uppercase text-xs italic">Permintaan Buyer</button>
                <button onclick="modalMitra('Cargo')" class="p-8 bg-white border-2 border-gray-100 rounded-[2rem] hover:border-green-500 transition font-black uppercase text-xs italic">Kemitraan Cargo</button>
            </div>
        </section>
    </main>

    <main id="tab-admin" class="tab-content pt-24 bg-gray-50 min-h-screen px-6">
        <div class="max-w-7xl mx-auto py-10">
            <h2 class="text-3xl font-black uppercase italic text-[#4A2F1B] border-l-8 border-orange-600 pl-5 mb-10">Internal Intelligence Center</h2>
            <div class="aspect-video w-full rounded-[3rem] overflow-hidden bg-white shadow-2xl">
                <iframe src="https://lookerstudio.google.com/embed/reporting/aaaa04e2-6fac-431b-8bad-68805577754f/page/LmDlF" class="w-full h-full border-none"></iframe>
            </div>
        </div>
    </main>

    <div id="gate" class="fixed inset-0 z-[100] hidden flex items-center justify-center bg-black/95 backdrop-blur-md">
        <div class="bg-white p-10 rounded-[3rem] max-w-sm w-full text-center">
            <h2 class="text-2xl font-black uppercase italic mb-6 tracking-tighter">Internal Access</h2>
            <input type="password" id="gateKey" placeholder="KODE AKSES" class="w-full p-5 bg-gray-100 rounded-2xl text-center text-xl font-black mb-6 border-2 focus:border-orange-500 outline-none">
            <button onclick="cekKunci()" class="w-full bg-orange-600 text-white py-5 rounded-2xl font-black uppercase text-xs shadow-lg">Verifikasi</button>
            <button onclick="tutupGate()" class="mt-4 text-[10px] font-black text-gray-400 uppercase tracking-widest">Batal</button>
        </div>
    </div>

    <script>
        const APPS_SCRIPT_URL = 'GANTI_DENGAN_URL_WEB_APP_GOOGLE_ANDA';

        // 1. SINKRONISASI DATA (MULTI-TAB)
        async function submitData(kategori, detail = "-") {
            const nama = document.getElementById('inputNama').value || prompt("Nama PIC:");
            const stok = document.getElementById('inputStok').value || 0;
            const lokasi = prompt("Wilayah (Solo/Boyolali/Karanganyar):");

            if(!nama || !lokasi) return;

            try {
                const res = await fetch(APPS_SCRIPT_URL, {
                    method: 'POST',
                    body: JSON.stringify({ kategori, nama, lokasi, stok, detail })
                });
                const data = await res.json();
                if(data.result === "success") {
                    if(kategori === 'Stok') {
                        document.getElementById('displayPersen').innerText = data.newPersen + "%";
                        document.getElementById('progressBar').style.width = data.newPersen + "%";
                        document.getElementById('displaySisaText').innerText = (5000 - data.newTotal) + " Kg Lagi";
                    }
                    alert("Data sinkron! Membuka WhatsApp untuk validasi...");
                    window.open(`https://wa.me/628121515633?text=INFO_${kategori.toUpperCase()}:%20${nama}%20di%20${lokasi}.`, '_blank');
                }
            } catch (e) { alert("Error koneksi database."); }
        }

        function modalMitra(k) { submitData(k, prompt(`Masukkan Detail ${k} (NKV/Armada):`)); }
        function hitungVisual() {
            const s = document.getElementById('inputStok').value || 0;
            const p = Math.min((s/5000)*100, 100);
            document.getElementById('displayPersen').innerText = Math.round(p) + "%";
            document.getElementById('progressBar').style.width = p + "%";
            document.getElementById('displaySisaText').innerText = (5000-s) + " Kg Lagi";
        }

        // NAVIGATION
        function switchTab(id) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.getElementById('tab-' + id).classList.add('active');
        }
        function bukaGate() { document.getElementById('gate').classList.remove('hidden'); }
        function tutupGate() { document.getElementById('gate').classList.add('hidden'); }
        function cekKunci() {
            if(document.getElementById('gateKey').value === "SOLORAYA2026") {
                tutupGate(); switchTab('admin');
            } else { alert("Akses Ditolak."); }
        }
    </script>
</body>
</html>
